import{j as e}from"./animations-BUQhxL-b.js";import{r as o,a as R,b as z}from"./vendor-BaVwoRKI.js";import{u as B}from"./carousel-CzK89EnE.js";import{u as M,S as m}from"./badge-CHhsvlT_.js";import{M as D,C as k,b as N,X as L}from"./icons-DF2tO9cW.js";import{g as c}from"./gsap-D3jsOSc0.js";const C=({width:s=800,height:a=450,text:i="UX Design Mockup"})=>e.jsxs("svg",{width:s,height:a,viewBox:`0 0 ${s} ${a}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:s,height:a,rx:"32",fill:"#F2F8F7"}),e.jsx("rect",{x:"40",y:"40",width:s-80,height:"60",rx:"8",fill:"#3E8385"}),e.jsx("rect",{x:"60",y:"55",width:"120",height:"12",rx:"6",fill:"#ffffff",opacity:"0.9"}),e.jsx("rect",{x:s-160,y:"55",width:"80",height:"12",rx:"6",fill:"#ffffff",opacity:"0.7"}),e.jsx("rect",{x:"40",y:"120",width:(s-80)*.7,height:"20",rx:"4",fill:"#B0B7C3"}),e.jsx("rect",{x:"40",y:"150",width:(s-80)*.5,height:"20",rx:"4",fill:"#D1D9E6"}),e.jsx("rect",{x:"40",y:"200",width:s-80,height:"200",rx:"12",fill:"#FBF9F8",stroke:"#E0E7EF",strokeWidth:"2"}),e.jsx("circle",{cx:s/2-60,cy:280,r:"25",fill:"#385681",opacity:"0.8"}),e.jsx("circle",{cx:s/2+60,cy:280,r:"25",fill:"#3E8385",opacity:"0.6"}),e.jsx("rect",{x:s/2-40,y:"320",width:"80",height:"8",rx:"4",fill:"#B0B7C3"}),e.jsx("rect",{x:s/2-60,y:"340",width:"120",height:"6",rx:"3",fill:"#D1D9E6"}),e.jsx("rect",{x:"40",y:a-60,width:s-80,height:"40",rx:"8",fill:"#FBF9F8",stroke:"#E0E7EF",strokeWidth:"1"}),e.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",fontSize:"24",fill:"#385681",fontWeight:"600",children:i}),e.jsx("path",{d:`M${s-100} 30 L${s-80} 30 L${s-90} 20 Z`,fill:"#3E8385",opacity:"0.5"}),e.jsx("path",{d:`M${s-70} 30 L${s-50} 30 L${s-60} 20 Z`,fill:"#385681",opacity:"0.5"})]}),Z=({images:s,options:a,carouselLabel:i="Image gallery"})=>{const f=M(),[u,l]=B({loop:s.length>1,align:"center",containScroll:"trimSnaps",duration:f?0:void 0,...a}),[n,S]=o.useState(0),[d,p]=o.useState(!1),x=o.useRef(null),[E,P]=o.useState(!1),[$,F]=o.useState(!1),v=o.useCallback(()=>l&&l.scrollPrev(),[l]),y=o.useCallback(()=>l&&l.scrollNext(),[l]),b=o.useCallback(()=>{if(!l||!x.current)return;const t=l.selectedScrollSnap();S(t),P(l.canScrollPrev()),F(l.canScrollNext());const r=s[t]?.alt||`Image ${t+1}`;x.current.textContent=`Image ${t+1} of ${s.length}. ${r}`},[l,s]);o.useEffect(()=>{if(l)return l.scrollTo(0,!0),b(),l.on("select",b),l.on("reInit",b),()=>{}},[l,b]);const j=()=>{p(!0),document.body.style.overflow="hidden"},h=()=>{p(!1),document.body.style.overflow="unset"};return o.useEffect(()=>{const t=r=>{r.key==="Escape"&&d&&h()};if(d)return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[d]),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"overflow-hidden rounded-xl",ref:u,role:"region","aria-roledescription":"carousel","aria-label":i,children:e.jsxs("div",{className:"flex",children:[" ",s.map((t,r)=>e.jsxs("div",{className:"min-w-0 flex-[0_0_100%] flex justify-center items-center relative",role:"group","aria-roledescription":"slide","aria-label":`Image ${r+1} of ${s.length}`,children:[e.jsx("div",{className:"w-full cursor-pointer",onClick:j,children:t.svgPlaceholder?e.jsx(C,{}):t.src&&e.jsx("img",{src:t.src,alt:t.alt||"",className:"w-full h-auto object-contain aspect-video rounded-xl shadow-md",srcSet:(()=>{const g=t.src.substring(0,t.src.lastIndexOf(".")),I=t.src.substring(t.src.lastIndexOf("."));return[480,800,1200,1920].map(w=>`${g}-${w}w${I} ${w}w`).join(", ")})(),sizes:"100vw",fetchPriority:"high"})}),e.jsx("button",{className:"absolute top-2 right-2 bg-white/80 hover:bg-white rounded-full p-1.5 shadow-md hover:shadow-lg transition-all z-10 focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-primary focus-visible:ring-offset-1 focus-visible:ring-offset-background",onClick:g=>{g.stopPropagation(),j()},"aria-label":"Full screen view",children:e.jsx(D,{className:"w-4 h-4 text-brand-primary"})})]},r))]})}),e.jsx("div",{ref:x,className:"sr-only","aria-live":"polite","aria-atomic":"true"}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:v,disabled:!E,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-brand-primary p-2 rounded-full shadow-md hover:shadow-lg transition-all z-10 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-primary focus-visible:ring-offset-1 focus-visible:ring-offset-background","aria-label":"Previous image",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsx("button",{onClick:y,disabled:!$,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-brand-primary p-2 rounded-full shadow-md hover:shadow-lg transition-all z-10 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-primary focus-visible:ring-offset-1 focus-visible:ring-offset-background","aria-label":"Next image",children:e.jsx(N,{className:"w-5 h-5"})})]}),s.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 bg-black/20 backdrop-blur-sm rounded-full px-3 py-2",role:"tablist","aria-label":"Image navigation dots",children:s.map((t,r)=>e.jsx("button",{onClick:()=>l&&l.scrollTo(r),className:`w-2 h-2 rounded-full transition-all duration-300 ${r===n?"bg-white scale-125":"bg-white/50 hover:bg-white/75"} focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-black/50`,role:"tab","aria-label":`Go to image ${r+1}`,"aria-selected":r===n,"aria-current":r===n?"true":"false"},r))}),d&&R.createPortal(e.jsxs("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center p-4 backdrop-blur-sm z-[10000]",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh"},onClick:h,children:[e.jsx("button",{className:"absolute top-4 right-4 z-[10001] text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-3 backdrop-blur-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-black/70 cursor-pointer",onClick:h,"aria-label":"Close full screen (Press Escape)",children:e.jsx(L,{className:"w-6 h-6"})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),v()},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors backdrop-blur-sm z-[10001] focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-black/70","aria-label":"Previous image",children:e.jsx(k,{className:"w-6 h-6"})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),y()},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors backdrop-blur-sm z-[10001] focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-black/70","aria-label":"Next image",children:e.jsx(N,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"relative max-w-[95vw] max-h-[95vh] flex items-center justify-center",children:s[n].svgPlaceholder?e.jsx(C,{width:1200,height:700,text:"Full Page Design Mockup"}):e.jsx("img",{src:s[n].src,alt:s[n].alt||`Image ${n+1}`,className:"max-w-full max-h-full object-contain shadow-2xl",onClick:t=>t.stopPropagation(),style:{maxWidth:"95vw",maxHeight:"95vh"}})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm bg-black/50 px-4 py-2 rounded-full backdrop-blur-sm flex items-center space-x-4",children:[s.length>1&&e.jsxs("span",{children:[n+1," / ",s.length]}),e.jsx("span",{children:"Click outside or press Escape to close"})]})]}),document.body)]})};c.registerPlugin(m);const T=z.memo(({children:s})=>{const a=o.useRef(null);return o.useEffect(()=>{const i=a.current?.querySelectorAll(".reveal");if(!i||i.length===0)return;const f=c.matchMedia();return f.add("(prefers-reduced-motion: reduce)",()=>{c.set(i,{opacity:0,y:0});const u=m.create({trigger:a.current,start:"top 80%",onEnter:()=>c.set(i,{opacity:1,y:0})});return()=>{u?.kill()}}),f.add("(prefers-reduced-motion: no-preference)",()=>{c.set(i,{opacity:0,y:10});const u=m.create({trigger:a.current,start:"top 80%",onEnter:()=>{i.length>0&&c.fromTo(i,{opacity:0,y:10},{opacity:1,y:0,stagger:.1,duration:.45,ease:"power4.out",onComplete:function(){this.targets().length>0&&c.set(this.targets(),{clearProps:"transform"})}})}});return()=>u?.kill()}),()=>{f.revert()}},[]),e.jsx("section",{ref:a,children:s})});T.displayName="SectionReveal";export{Z as B,T as S};
