import{r as c,j as e}from"./vendor-C59emRhC.js";import{u as m}from"./usePWA-CiEyyR1i.js";import{A as f,m as d}from"./animations-DmCvi6gQ.js";import"./vendor-misc-CnCZSQ_5.js";const v=({className:i=""})=>{const{isInstallable:s,isInstalled:t,installApp:r}=m(),[n,o]=c.useState(!1),[x,a]=c.useState(!1);c.useEffect(()=>{if(localStorage.getItem("pwa-install-dismissed")&&o(!0),s&&!n&&!t){const u=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(u)}},[s,n,t]);const p=async()=>{try{await r(),a(!1)}catch(l){console.error("Installation failed:",l)}},h=()=>{a(!1),o(!0),localStorage.setItem("pwa-install-dismissed","true")},y=()=>{a(!1);const l=Date.now()+24*60*60*1e3;localStorage.setItem("pwa-install-remind-later",l.toString())};return!s||t||n||!x?null:e.jsx(f,{children:e.jsx(d.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{duration:.3,ease:"easeOut"},className:`fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-sm z-50 ${i}`,children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 backdrop-blur-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined text-white text-xl",children:"install_mobile"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:"Install App"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get the full experience"})]})]}),e.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Dismiss install prompt",children:e.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:"Install Elanthamilan's UX Portfolio for quick access, offline browsing, and a native app experience on your device."}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"material-symbols-outlined text-sm text-green-500",children:"check_circle"}),e.jsx("span",{children:"Works offline"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"material-symbols-outlined text-sm text-green-500",children:"check_circle"}),e.jsx("span",{children:"Fast loading"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"material-symbols-outlined text-sm text-green-500",children:"check_circle"}),e.jsx("span",{children:"Native app feel"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:p,className:"flex-1 bg-gradient-to-r from-primary to-secondary text-white font-medium py-3 px-4 rounded-xl hover:shadow-lg transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"download"}),e.jsx("span",{children:"Install"})]}),e.jsx("button",{onClick:y,className:"px-4 py-3 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors text-sm font-medium",children:"Later"})]})]})})})},k=({className:i=""})=>{const{isInstallable:s,isInstalled:t,installApp:r}=m();return!s||t?null:e.jsxs(d.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:r,className:`inline-flex items-center space-x-2 px-4 py-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-colors text-sm font-medium ${i}`,"aria-label":"Install app",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"install_mobile"}),e.jsx("span",{className:"hidden sm:inline",children:"Install App"})]})};export{k as PWAInstallButton,v as PWAInstallPrompt};
